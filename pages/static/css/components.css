@font-face {
  font-family: 'rodin';
  src: url('https://mariocube.com/css/RodinNTLGPro-DB-AlphaNum.woff2') format('woff2'),
       url('https://mariocube.com/css/RodinNTLGPro-DB-AlphaNum.woff') format('woff');
  font-weight: 400;
}

@font-face {
  font-family: 'rodin';
  src: url('https://mariocube.com/css/RodinNTLGPro-B-AlphaNum.woff2') format('woff2'),
       url('https://mariocube.com/css/RodinNTLGPro-B-AlphaNum.woff') format('woff');
  font-weight: 700;
}

/* Reset */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; height: 100%; width: 100%; overflow-x: hidden; }

/* Base */
body {
  background: #36393f;
  color: #dcddde;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
  font-size: 16px;
  line-height: 1.45;
}

#wrapper { 
  width: 100%; 
  height: 100%;
  position: relative;
}

/* Typography */
h1, h2 { margin: 24px 0 12px 0; font-size: 1.75rem; font-weight: 600; }
p, ul { line-height: 1.5; margin: 0 0 12px 0; font-size: 0.95rem; }
ul { padding-left: 20px; }
a { color: #00aff4; text-decoration: none; }
a:hover { text-decoration: underline; }

/* Header */
.header-table { width: 100%; }
.header-logo img { display: block; }
.header-title {
  font-size: 2.625rem;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
  color: #dddddd;
}
.header-menu {
  width: 100%;
  text-align: right;
  font-size: 1.5rem;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
  color: #dddddd;
}
.header-menu a,
.header-menu-link {
  color: #dddddd;
  text-decoration: none;
  font-size: 1.125rem;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
}
.header-user-info {
  color: #aaaaaa;
  font-size: 0.75rem;
}

/* Homepage */
.homepage, .home, #home {
  padding: 24px;
  max-width: 1200px;
  margin: 0 auto;
}

/* Code */
pre {
  background: #2f3136;
  border: 1px solid #202225;
  border-radius: 4px;
  padding: 8px;
  margin: 4px 0;
  overflow: auto;
  max-height: 400px;
  font-family: Consolas, Monaco, monospace;
  font-size: 14px;
}
code {
  background: #2f3136;
  border-radius: 3px;
  padding: 2px 4px;
  font-family: Consolas, Monaco, monospace;
  font-size: 14px;
  color: #dcddde;
}
pre code { background: none; border: none; padding: 0; }

/* Layout - Desktop gets scrollable container, Wii gets simple layout */
.content-padding {
  position: absolute;
  top: 0;
  left: 60px;
  right: 0;
  bottom: 0;
  height: 100%;
}

.scrollable-content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 120px;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px;
}

/* Menu */
.menu-button {
  position: fixed;
  top: 16px;
  left: 16px;
  z-index: 1000;
  background: #36393f;
  border: 1px solid #40444b;
  border-radius: 4px;
  padding: 8px;
  cursor: pointer;
}
.menu-icon { width: 24px; height: 24px; display: block; }

/* Messages */
.message {
  padding: 8px 16px;
  margin: 0;
  border-bottom: 1px solid #2f3136;
}
.message:hover { background: rgba(4, 4, 5, 0.07); }
.message:last-child { border-bottom: none; }
.message-header { margin-bottom: 4px; }
.message-author {
  font-weight: 600;
  cursor: pointer;
  margin-right: 8px;
  color: #ffffff;
  display: inline;
}
.message-date { 
  font-size: 12px; 
  color: #72767d; 
  display: inline;
}
.message-link { text-decoration: none; color: inherit; display: block; }
.messagecontent {
  color: #dcddde;
  font-size: 16px;
  line-height: 20px;
  word-wrap: break-word;
}
.messagecontent a { color: #00b0f4; }
.firstmessage { margin: 0; }

/* Message mentions */
.message.mentioned {
  border-left: 4px solid #faa61a;
  background-color: rgba(250, 166, 26, 0.1);
  padding-left: 12px;
}
.mention {
  color: #00aff4;
  background: rgba(88, 101, 242, 0.3);
  padding: 0 2px;
  border-radius: 3px;
}

/* Embeds */
.embed { margin-top: 8px; max-width: 520px; }
.embed-content {
  background-color: #2f3136;
  border: 1px solid #202225;
  border-radius: 4px;
  padding: 8px 12px;
}

/* Reactions */
.reaction {
  display: inline-block;
  padding: 2px 6px;
  background: #2f3136;
  border-radius: 4px;
  margin-right: 4px;
  margin-bottom: 4px;
}
.reaction img { width: 16px; height: 16px; vertical-align: middle; }
.reaction-count { color: #dcddde; font-size: 12px; margin-left: 4px; }

/* Forwarded */
.forwarded-content-wrapper {
  padding: 8px;
  background: rgba(47, 49, 54, 0.6);
  border-radius: 4px;
  margin-bottom: 8px;
}

/* Message Input - FIXED AT BOTTOM */
.message-form-container {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 50;
  background: #36393f;
  border-top: 1px solid #40444b;
  padding: 8px;
}

/* Buttons Row */
.message-buttons-container { padding: 0 0 8px 0; }
.message-button-cell {
  display: inline-block;
  vertical-align: middle;
  margin-right: 8px;
}

.icon-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  width: 32px;
  height: 32px;
  border-radius: 4px;
}
.icon-button:hover { background: rgba(255, 255, 255, 0.06); }
.emoji-icon { width: 24px; height: 24px; vertical-align: middle; }

/* Input - TABLE LAYOUT FOR WII COMPATIBILITY */
.message-input-wrapper { width: 100%; }
.message-input-container {
  display: table;
  width: 100%;
  table-layout: fixed;
  background: #40444b;
  border-radius: 8px;
  border: 1px solid #40444b;
}

.message-input {
  display: table-cell;
  width: 100%;
  height: 44px;
  padding: 0 12px;
  border: none;
  background: transparent;
  color: #dcddde;
  font-size: 16px;
  vertical-align: middle;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
}

.send-button {
  display: table-cell;
  vertical-align: middle;
  width: 1%;
  white-space: nowrap;
  padding: 10px 14px;
  border-radius: 4px;
  background: #5865f2;
  color: #fff;
  border: none;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  min-height: 44px;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
}
.send-button:hover { background: #4752c4; }

/* Emoji Picker */
#emoji {
  background: #2f3136;
  border: 1px solid #40444b;
  border-radius: 8px;
  padding: 16px;
  margin: 8px 0;
  display: none;
}
#emoji table { width: 100%; }
#emoji button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
}
#emoji button:hover { background: rgba(255, 255, 255, 0.06); }

/* Buttons */
.discross-button {
  background: #5865f2;
  color: white;
  display: inline-block;
  padding: 12px 24px;
  border-radius: 8px;
  text-decoration: none;
  font-size: 16px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  margin: 8px 0;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
}
.discross-button:hover { background: #4752c4; }
.discross-button.secondary { background: #4f545c; }

/* Server Pages */
.server-layout { display: table; width: 100%; }
.server-sidebar, .server-main { vertical-align: top; }
.server-icon { height: 48px; width: 48px; }
.server-select-title {
  font-size: 1.875rem;
  color: #5865f2;
  font-weight: bold;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
}
.server-select-text {
  font-size: 1.5rem;
  color: #dddddd;
  font-family: 'rodin', Arial, Helvetica, sans-serif;
}

/* Drawing */
#toolbar-container {
  background: #2f3136;
  padding: 5px;
  border-bottom: 1px solid #202225;
  margin: 0 auto 5px auto;
  border-radius: 8px;
}
.c-box {
  width: 24px;
  height: 24px;
  border: 2px solid #555;
  display: inline-block;
  margin: 1px;
  cursor: pointer;
}
#canvas-wrapper {
  margin: 0 auto 20px auto;
  background: #2f3136;
  padding: 5px;
  width: 610px;
  max-width: 100%;
}
canvas {
  background: #fff;
  cursor: crosshair;
  display: block;
  border: 1px solid #202225;
  max-width: 100%;
  height: auto;
}

/* Hide legacy elements */
br.nodisp { display: none; }

/* ========== LIGHT THEME ========== */
.light-theme body,
.light-theme #wrapper { background: #fff; color: #060607; }
.light-theme .content-padding,
.light-theme .scrollable-content { background: #fff; color: #060607; }
.light-theme .menu-button { background: #fff; border-color: #e3e5e8; }
.light-theme .header-title,
.light-theme .header-menu,
.light-theme .header-menu-link { color: #060607; }
.light-theme .header-user-info { color: #4f5660; }
.light-theme .message { border-color: #e3e5e8; background: transparent; }
.light-theme .message:hover { background: rgba(6, 6, 7, 0.02); }
.light-theme .message-author { color: #060607; }
.light-theme .message-date { color: #5c5e66; }
.light-theme .messagecontent { color: #2e3338; }
.light-theme .messagecontent a { color: #0067e0; }
.light-theme .message-form-container { background: #fff; border-top-color: #e3e5e8; }
.light-theme .message-input-container { background: #ebedef; border-color: #e3e5e8; }
.light-theme .message-input { color: #060607; }
.light-theme .icon-button:hover { background: rgba(0, 0, 0, 0.08); }
.light-theme pre,
.light-theme code { background: #f2f3f5; border-color: #e3e5e8; color: #2e3338; }
.light-theme .embed-content,
.light-theme .forwarded-content-wrapper { background: #f2f3f5; border-color: #e3e5e8; }
.light-theme #emoji { background: #fff; border-color: #e3e5e8; }
.light-theme .reaction { background: #f2f3f5; }
.light-theme #emoji button:hover { background: rgba(0, 0, 0, 0.08); }
.light-theme a { color: #0067e0; }

/* ========== AMOLED THEME ========== */
.amoled-theme body,
.amoled-theme #wrapper { background: #000; color: #fff; }
.amoled-theme .content-padding,
.amoled-theme .scrollable-content { background: #000; color: #fff; }
.amoled-theme .menu-button { background: #000; border-color: #333; }
.amoled-theme .header-title,
.amoled-theme .header-menu,
.amoled-theme .header-menu-link { color: #fff; }
.amoled-theme .message { border-color: #1a1a1a; background: #000; }
.amoled-theme .message:hover { background: #111; }
.amoled-theme .message-author { color: #fff; }
.amoled-theme .message-date { color: #a0a0a0; }
.amoled-theme .messagecontent { color: #fff; }
.amoled-theme .messagecontent a { color: #5865f2; }
.amoled-theme .message-form-container { background: #000; border-top-color: #333; }
.amoled-theme .message-input-container { background: #0a0a0a; border-color: #333; }
.amoled-theme .message-input { color: #fff; }
.amoled-theme .icon-button:hover { background: rgba(255, 255, 255, 0.08); }
.amoled-theme pre,
.amoled-theme code { background: #0a0a0a; border-color: #222; color: #fff; }
.amoled-theme .embed-content,
.amoled-theme .forwarded-content-wrapper { background: #0a0a0a; border-color: #222; }
.amoled-theme #emoji { background: #000; border-color: #333; }
.amoled-theme .reaction { background: #0a0a0a; border-color: #222; }
.amoled-theme #emoji button:hover { background: rgba(255, 255, 255, 0.08); }
.amoled-theme a { color: #5865f2; }
.amoled-theme .server-sidebar,
.amoled-theme .server-select-note,
.amoled-theme .server-main { background: #000; border-color: #333; }

/* Small screens */
@media (max-width: 640px) {
  .content-padding { left: 50px; }
  .send-button { padding: 8px 10px; font-size: 0.9rem; }
  .homepage, .home, #home { padding: 12px; }
}

/* Wii fallback - absolute positioning doesn't work well on Wii */
@media (max-width: 768px) and (max-height: 480px) {
  .content-padding {
    position: static;
    padding-left: 60px;
    padding-bottom: 140px;
    height: auto;
  }
  .scrollable-content {
    position: static;
    overflow: visible;
    padding: 16px;
  }
  .message-form-container {
    position: fixed;
  }
}